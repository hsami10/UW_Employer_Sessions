</div>
<!-- 'row' end -->

<script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
<script src="http://code.jquery.com/color/jquery.color-2.1.2.min.js"></script>

<script>
    
    $(window).on("load", () => {
        $(".loadGif").fadeOut("slow");

        $("#hideAll").animate({
            top: "0px",
            bottom: "0px",
            right: "0px",
            left: "0px",
            backgroundColor: "transparent",
            height: "15%"
        }, {
            duration: 1000,
            queue: false,
            easing: 'linear'
        });

        $("h1").animate({
            top: "0px",
            marginTop: "0px",
            marginBottom: "0px",
            height: "80%",
            backgroundColor: "rgba(255, 255, 255)"
        }, {
            duration: 1000,
            queue: false,
            easing: 'linear'
        });
    });

    $(document).scroll(() => {
        const $header = $("h1");
        $header.toggleClass("scrolled", $(this).scrollTop() > $header.height());
    });
</script>

<script>
    // let logoImgs = document.getElementsByClassName('logos');
    // logoImgs.forEach((value, index) => {
    //     //console.log(value);
    //     value.onerror = () => {
    //         value.setAttribute('src', null);
    //         value.setAttribute('src', 'https://drive.google.com/file/d/0B5ICWVIwdLFZZGxMRzRwVkJBVVE/view');
    //     }
    // });

    // function handleImgError(img) {
    //     //the first one is the url to the unavailable img icon address on my google drive (which I copied over from google images - img2).
    //     const imgUnavailable = 'https://lh5.googleusercontent.com/eEQOIn5hUgpAreONI2YDdFxffnsI2hBm8ka1voBYF9hm_2jVpJot6bhOw8XgGtxa3ajjU_dQOSHCfMo=w1920-h918';
    //     //const imgUnavailable2 =  'https://pbs.twimg.com/profile_images/600060188872155136/st4Sp6Aw.jpg'
    //     img.src = imgUnavailable;
    // }

    /* THE STUFF ABOVE DOESN'T WORK. FIX IT */

    function initMap() {
        const sessionLocs = [{{sessionLocArr}}];
        //e.g., sessionLocs = ['lat: 43.4727, lng: -80.5421', 'lat: 43.4727, lng: -80.5421'];

        //loop dataArrLength times (including the Closed Info Sessions). 
        for (let x = 0, y = 0 ; x < {{dataArrLength}} ; ++x) {
            divMap = document.getElementById(`map${x}`);
            if (divMap === null) {
                continue;
            }
            const location = { 
                lat: sessionLocs[y],
                lng: sessionLocs[y + 1]
             };
            const map = new google.maps.Map(divMap, {
                center: location,
                zoom: 16
            });
            const marker = new google.maps.Marker({
                position: location,
                map: map
                //title: 
            });
             y += 2;
        }
    }
</script>
<script async defer src="https://maps.googleapis.com/maps/api/js?key={{googleMapsKey}}&callback=initMap"></script>
</body>

</html>